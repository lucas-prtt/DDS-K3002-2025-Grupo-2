global:
  scrape_interval: 5s

scrape_configs:

  # ------------ MICROSERVICIOS METAMAPA -----------------

  - job_name: "agregador"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["54.94.108.1:8084"]

  - job_name: "api-publica"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["54.94.108.1:8085"]

  - job_name: "api-administrativa"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["54.94.108.1:8086"]

  - job_name: "estadisticas"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["54.94.108.1:8087"]

  - job_name: "fuente-estatica"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["54.94.108.1:8081"]

  - job_name: "fuente-dinamica"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["54.94.108.1:8082"]

  - job_name: "fuente-proxy"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["54.94.108.1:8083"]

  - job_name: "interfaz-agregador"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["54.94.108.1:8094"]

  # ------------ OBSERVABILIDAD LOCAL (misma EC2) -----------------

  - job_name: "zipkin"
    static_configs:
      - targets: ["zipkin:9411"]

  - job_name: "loki"
    static_configs:
      - targets: ["loki:3100"]

  # ------------ NODE EXPORTER (si lo agreg√°s) -----------------
  # - job_name: 'node'
  #   static_configs:
  #     - targets: ['node-exporter:9100']
