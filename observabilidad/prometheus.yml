global:
  scrape_interval: 5s

scrape_configs:

  # ------------ MICROSERVICIOS METAMAPA -----------------

  - job_name: "agregador"
    metrics_path: "/agregador/actuator/prometheus"
    static_configs:
      - targets: ["host.docker.internal:8084"]

  - job_name: "api-publica"
    metrics_path: "/apiPublica/actuator/prometheus"
    static_configs:
      - targets: ["host.docker.internal:8085"]

  - job_name: "api-administrativa"
    metrics_path: "/apiAdministrativa/actuator/prometheus"
    static_configs:
      - targets: ["host.docker.internal:8086"]

  - job_name: "estadisticas"
    metrics_path: "/estadisticas/actuator/prometheus"
    static_configs:
      - targets: ["host.docker.internal:8087"]

  - job_name: "fuente-estatica"
    metrics_path: "/fuenteEstatica/actuator/prometheus"
    static_configs:
      - targets: ["host.docker.internal:8081"]

  - job_name: "fuente-dinamica"
    metrics_path: "/fuenteDinamica/actuator/prometheus"
    static_configs:
      - targets: ["host.docker.internal:8082"]

  - job_name: "fuente-proxy"
    metrics_path: "/fuenteProxy/actuator/prometheus"
    static_configs:
      - targets: ["host.docker.internal:8083"]

  - job_name: "interfaz-agregador"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["host.docker.internal:8094"]

  # ------------ OBSERVABILIDAD LOCAL (misma EC2) -----------------

  - job_name: "zipkin"
    static_configs:
      - targets: ["zipkin:9411"]

  - job_name: "loki"
    static_configs:
      - targets: ["loki:3100"]

  # ------------ NODE EXPORTER (si lo agreg√°s) -----------------
  # - job_name: 'node'
  #   static_configs:
  #     - targets: ['node-exporter:9100']
